<script src="https://cdn.anychart.com/releases/8.11.0/js/anychart-base.min.js"></script>
<script src="https://cdn.anychart.com/releases/8.11.0/js/anychart-core.min.js"></script>
<script src="https://cdn.anychart.com/releases/8.11.0/js/anychart-bundle.min.js"></script>
<script src="https://cdn.anychart.com/releases/v8/js/anychart-graph.min.js"></script>
<script src="https://cdn.anychart.com/releases/v8/js/anychart-data-adapter.min.js"></script>
<script src="https://cdn.anychart.com/releases/v8/js/anychart-ui.min.js"></script>
<script src="https://cdn.anychart.com/releases/v8/js/anychart-exports.min.js"></script>
<link href="https://cdn.anychart.com/releases/v8/css/anychart-ui.min.css" type="text/css" rel="stylesheet">
<link href="https://cdn.anychart.com/releases/v8/fonts/css/anychart-font.min.css" type="text/css" rel="stylesheet">

<script type="module" src="/static/js/src/quatis.js"></script>

<div class="wrapper-comp-settings is-active editor-with-buttons" id="settings-tab">
  <ul class="list-input settings-list" id="optionsList">
    <li class="field comp-setting-entry is-set">
      <div class="wrapper-comp-setting">
        <label class="label setting-label" for="problemTitle">Title  </label>
        <input class="input setting-input" name="problemTitle" id="problemTitle" value="{problemTitle}" type="text" />
      </div>
      <span class="tip setting-help">Example: Solve the equation below</span>
    </li>

    <li class="field comp-setting-entry is-set">
      <div class="wrapper-comp-setting">
        <label class="label setting-label" for="problemDescription">Description </label>
        <input class="input setting-input" name="problemDescription" id="problemDescription" value="{problemDescription}" type="text" />
      </div>
      <span class="tip setting-help">Example: Please solve the equation 2X = 4</span>
    </li>

    <li class="field comp-setting-entry is-set">
      <div class="wrapper-comp-setting">
        <label class="label setting-label" for="multipleChoiceProblem">Multiple choice problem (actual value: {multipleChoiceProblem})</label>
        <select class="input setting-input" name="multipleChoiceProblem" id="multipleChoiceProblem" value="{multipleChoiceProblem}">
          <option value="1">Yes</option>
          <option value="0">No</option>
        </select>
      </div>
      <span class="tip setting-help">Check if it's a multiple choice problem (1 for yes, 0 for no)</span>
    </li>

    <li class="field comp-setting-entry is-set">
      <div class="wrapper-comp-setting">
        <label class="label setting-label" for="problemDefaultHint">Default hint (in portuguese) </label>
        <input class="input setting-input" name="problemDefaultHint" id="problemDefaultHint" value="{problemDefaultHint}" type="text" />
      </div>
      <span class="tip setting-help">The hint that will be shown if it can't find a proper one </span>
    </li>

    <li class="field comp-setting-entry is-set">
      <div class="wrapper-comp-setting">
        <label class="label setting-label" for="problemDefaultHintEnglish">Default hint </label>
        <input class="input setting-input" name="problemDefaultHintEnglish" id="problemDefaultHintEnglish" value="{problemDefaultHintEnglish}" type="text" />
      </div>
      <span class="tip setting-help">The hint that will be shown if it can't find a proper one</span>
    </li>

    <li class="field comp-setting-entry is-set">
      <div class="wrapper-comp-setting">
        <label class="label setting-label" for="problemInitialHint">Initial hint (in portuguese) </label>
        <input class="input setting-input" name="problemInitialHint" id="problemInitialHint" value="{problemInitialHint}" type="text" />
      </div>
      <span class="tip setting-help">The hint that will appear if the current solution is empty </span>
    </li>

    <li class="field comp-setting-entry is-set">
      <div class="wrapper-comp-setting">
        <label class="label setting-label" for="problemInitialHintEnglish">Initial hint </label>
        <input class="input setting-input" name="problemInitialHintEnglish" id="problemInitialHintEnglish" value="{problemInitialHintEnglish}" type="text" />
      </div>
      <span class="tip setting-help">The hint that will appear if the current solution is empty </span>
    </li>

    <li class="field comp-setting-entry is-set">
      <div class="wrapper-comp-setting">
        <label class="label setting-label" for="problemAnswer1">Choice 1  </label>
        <input class="input setting-input" name="problemAnswer1" id="problemAnswer1" value="{problemAnswer1}" type="text" />
      </div>
      <span class="tip setting-help">Choice 1. This is ignored if the exercise is not a multiple choice </span>
    </li>

    <li class="field comp-setting-entry is-set">
      <div class="wrapper-comp-setting">
        <label class="label setting-label" for="problemAnswer2">Choice 2  </label>
        <input class="input setting-input" name="problemAnswer2" id="problemAnswer2" value="{problemAnswer2}" type="text" />
      </div>
      <span class="tip setting-help">Choice 2. This is ignored if the exercise is not a multiple choice </span>
    </li>

    <li class="field comp-setting-entry is-set">
      <div class="wrapper-comp-setting">
        <label class="label setting-label" for="problemAnswer3">Choice 3  </label>
        <input class="input setting-input" name="problemAnswer3" id="problemAnswer3" value="{problemAnswer3}" type="text" />
      </div>
      <span class="tip setting-help">Choice 3. This is ignored if the exercise is not a multiple choice </span>
    </li>

    <li class="field comp-setting-entry is-set">
      <div class="wrapper-comp-setting">
        <label class="label setting-label" for="problemAnswer4">Choice 4  </label>
        <input class="input setting-input" name="problemAnswer4" id="problemAnswer4" value="{problemAnswer4}" type="text" />
      </div>
      <span class="tip setting-help">Choice 4. This is ignored if the exercise is not a multiple choice </span>
    </li>

    <li class="field comp-setting-entry is-set">
      <div class="wrapper-comp-setting">
        <label class="label setting-label" for="problemAnswer5">Choice 5  </label>
        <input class="input setting-input" name="problemAnswer5" id="problemAnswer5" value="{problemAnswer5}" type="text" />
      </div>
      <span class="tip setting-help">Choice 5. This is ignored if the exercise is not a multiple choice </span>
    </li>

    <li class="field comp-setting-entry is-set">
      <div class="wrapper-comp-setting">
        <label class="label setting-label" for="problemCorrectAnswer">Correct choice  </label>
        <input class="input setting-input" name="problemCorrectAnswer" id="problemCorrectAnswer" value="{problemCorrectAnswer}" type="text" />
      </div>
      <span class="tip setting-help">The coccrect choice. This is ignored if the exercise is not a multiple choice </span>
    </li>

    <li class="field comp-setting-entry is-set">
      <div class="wrapper-comp-setting">
        <label class="label setting-label" for="problemSubject">Exercise's subject  </label>
        <input class="input setting-input" name="problemSubject" id="problemSubject" value="{problemSubject}" type="text" />
      </div>
      <span class="tip setting-help">The subject of the exercise, like math or biology </span>
    </li>

    <li class="field comp-setting-entry is-set">
      <div class="wrapper-comp-setting">
        <label class="label setting-label" for="problemTags">Tags </label>
        <input class="input setting-input" name="problemTags" id="problemTags" value="{problemTags}" type="text" />
      </div>
      <span class="tip setting-help">Tags of the exervise, like math and equation </span>
    </li>

    <li class="field comp-setting-entry is-set">
      <div class="wrapper-comp-setting">
        <label class="label setting-label" for="callOpenAiExplanation">Utilizes AI to generate an explanation </label>
        <input class="input setting-input" name="callOpenAiExplanation" id="callOpenAiExplanation" value="{callOpenAiExplanation}" type="text" />
      </div>
      <span class="tip setting-help">If it will have an AI generated explanation </span>
    </li>

    <li class="field comp-setting-entry is-set">
      <div class="wrapper-comp-setting">
        <label class="label setting-label" for="questionToAsk">If yes, what will be the question?  </label>
        <input class="input setting-input" name="questionToAsk" id="questionToAsk" value="{questionToAsk}" type="text" />
      </div>
      <span class="tip setting-help">What will be the question to the AI </span>
    </li>

    <li class="field comp-setting-entry is-set">
      <div class="wrapper-comp-setting">
        <label class="label setting-label" for="openApiToken">OpenApi token  </label>
        <input class="input setting-input" name="openApiToken" id="openApiToken" value="{openApiToken}" type="text" />
      </div>
      <span class="tip setting-help">Which OpenApi token will be used </span>
    </li>

    <li class="field comp-setting-entry is-set">
      <div class="wrapper-comp-setting">
        <label class="label setting-label" for="language">Language  </label>
        <input class="input setting-input" name="language" id="language" value="{language}" type="text" />
      </div>
      <span class="tip setting-help">Language of the user interface for both student and teacher</span>
    </li>

    <li class="field comp-setting-entry is-set">
      <div class="wrapper-comp-setting">
        <label class="label setting-label" for="importProblemData">Import a graph as a JSON</label>
        <input class="input setting-input" name="importProblemData" id="importProblemData" type="text" />
      </div>
      <span class="tip setting-help">Import the data from a previously created exercise as a JSON</span>
      <p></p>
      <button type="button" id='import_graph'>Import</button> 
    </li>
    <p></p>
    <button type="button" id='generate_report'>Generate report</button>
    <p></p>
    <button type="button" id='export_graph'>Export graph as JSON</button>
    <p></p>
    <p></p>
    <button type="button" id='reset_counters'>Reset visualization counter</button>
    <p></p>

  <div>
    <li class="action-item">
      <button type="button" id='createGraph'>Generate knowledge graph</button> 
    </li>
  </div>

  <div id="graphModal" class="graphModal">

    <div class="graphModalContent">
      <span class="closeGraphModal" id="closeGraphModal">&times;</span>
      <div id="loadingMessage">
        <p>Please wait until the graph is generated</p>
      </div>
      <div id="errorMessage">
        <p>An error ocurred when generating the graph. Please refresh the page and try again</p>
      </div>
      <div class="graph" id="graph" style="height: 600px; width: 95%;">
      </div>
    </div>

    <div class="nodeMenu" id="nodeMenu">
      <div class="wrapper-comp-setting extraSpace">
        <label class="label setting-label" for="editState">Node</label>
        <input class="input readOnly increaseInputSpace" name="editState" disabled=true id="editState" type="text" />
        <p></p>
        <label class="label setting-label" for="editStateCount">Amount of times seem</label>
        <input class="input readOnly increaseInputSpace" name="editStateCount" disabled=true id="editStateCount" type="text" />
        <p></p>
        <label class="label setting-label" for="editStateValue">Correctness</label>
        <input class="input increaseInputSpace" name="editStateValue" id="editStateValue"  type="text" />
        <p></p>
        <label class="label setting-label" for="editStateLinkedSolution">Linked to choice</label>
        <input class="input increaseInputSpace" name="editStateLinkedSolution" id="editStateLinkedSolution" type="text" />
        <p></p>
        <label class="label setting-label" for="stateType">Type  </label>
        <select class="increaseInputSpace" name="changeStateType" id="changeStateType">
          <option selected="selected" value="normalState">Normal</option>
          <option value="initialState">Initial</option>
          <option value="finalState">Final</option>
          <option value="initialAndFinalState">Initial and final</option>
        </select>
        <p></p>

        <button type="button" id='saveStateinfo'>Update node</button> 
        <button type="button" id='removeState'>Remove node</button> 
        <p></p>
      </div>
        <p></p>
      <div class="wrapper-comp-setting extraSpace">

        <label class="label setting-label" for="">Doubts</label>
        <select class="increaseInputSpace" name="stateDoubts" id="stateDoubts">
        </select>
        <p></p>
        <button type="button" id='editDoubt'>Edit doubt</button> 
        <p></p>
      </div>
    </div>

    <div class="nodeMenu" id="doubtMenu">
      <div class="wrapper-comp-setting extraSpace">
        <label class="label setting-label" for="editDoubtId">ID</label>
        <input class="input readOnly increaseInputSpace" name="editDoubtId" disabled=true id="editDoubtId" type="text" />
        <p></p>
        <label class="label setting-label" for="editDoubtCount">Amount of time seem</label>
        <input class="input readOnly increaseInputSpace" name="editDoubtCount" disabled=true id="editDoubtCount" type="text" />
        <p></p>
        <label class="label setting-label" for="editDoubtText">Text</label>
        <input class="input increaseInputSpace" name="editDoubtText" id="editDoubtText"  type="text" />
        <p></p>
        <button type="button" id='saveDoubt'>Update doubt</button> 
        <button type="button" id='removeDoubt'>Remove doubt</button> 

        <p></p>
        <p></p>
        <label class="label setting-label" for="">Answers</label>
        <select class="increaseInputSpace" name="doubtAnswers" id="doubtAnswers" >
        </select>
      </div>
        <p></p>
      <div class="wrapper-comp-setting extraSpace">
        <label class="label setting-label" for="editAnswerId">ID</label>
        <input class="input readOnly increaseInputSpace" name="editAnswerId" disabled=true id="editAnswerId" type="text" />
        <p></p>
        <label class="label setting-label" for="editAnswerCount">Amount of time seem</label>
        <input class="input readOnly increaseInputSpace" name="editAnswerCount" disabled=true id="editAnswerCount" type="text" />
        <p></p>
        <label class="label setting-label" for="editAnswerText">Text</label>
        <input class="input increaseInputSpace" name="editAnswerText" id="editAnswerText"  type="text" />
        <p></p>
        <label class="label setting-label" for="editAnswerUsefulness">Usefulness</label>
        <input class="input readOnly increaseInputSpace" name="editAnswerUsefulness" disabled=true id="editAnswerUsefulness"  type="text" />
        <p></p>
        <button type="button" id='saveDoubtAnswer'>Save answer</button> 
        <button type="button" id='removeDoubtAnswer'>Remove answer</button> 
        <!--
        <button type="button" id='generateDoubtAnswer'>Generate answer</button> 
        -->
        <p></p>
      </div>
    </div>

    <div class="nodeMenu" id="feedbackMenu">
      <div class="wrapper-comp-setting extraSpace">
        <label class="label setting-label" for="editFeedbackId">ID</label>
        <input class="input readOnly increaseInputSpace" name="editFeedbackId" disabled=true id="editFeedbackId" type="text" />
        <p></p>
        <label class="label setting-label" for="editFeedbackCount">Amount of times seem</label>
        <input class="input readOnly increaseInputSpace" name="editFeedbackCount" disabled=true id="editFeedbackCount" type="text" />
        <p></p>
        <label class="label setting-label" for="editFeedbackText">Text</label>
        <input class="input increaseInputSpace" name="editFeedbackText" id="editFeedbackText"  type="text" />
        <p></p>
        <label class="label setting-label" for="editFeedbackPriority">Order</label>
        <input class="input increaseInputSpace" name="editFeedbackPriority" id="editFeedbackPriority"  type="text" />
        <p></p>
        <label class="label setting-label" for="editFeedbackUsefulness">Usefulness</label>
        <input class="input readOnly increaseInputSpace" name="editFeedbackUsefulness" disabled=true id="editFeedbackUsefulness"  type="text" />
        <p></p>
        <button type="button" id='saveFeedback'>Save data</button> 
        <button type="button" id='removeFeedback'>Remove data</button> 
        <!--
        <button type="button" id='generateFeedback'>Generate data</button> 
        -->
      </div>
    </div>


    <div class="edgeMenu" id="edgeMenu">
      <div class="wrapper-comp-setting extraSpace">
        <label class="label setting-label" for="editStepSource">Source node</label>
        <input class="input readOnly increaseInputSpace" name="editStepSource" disabled=true id="editStepSource"  type="text" />
        <p></p>
        <label class="label setting-label" for="editStepDest">Destiny node</label>
        <input class="input readOnly increaseInputSpace" name="editStepDest" disabled=true id="editStepDest"  type="text" />
        <p></p>
        <label class="label setting-label" for="editStepCount">Amount of times seem</label>
        <input class="input readOnly increaseInputSpace" name="editStepCount" disabled=true id="editStepCount"  type="text" />
        <p></p>
        <label class="label setting-label" for="editStepValue">Validity</label>
        <input class="input increaseInputSpace" name="editStepValue" id="editStepValue"  type="text" />
        <p></p>
        <button type="button" id='saveEdgeInfo'>Update step</button> 
        <button type="button" id='removeStep'>Remove step</button> 
        <p></p>
      </div>
        <p></p>
      <div class="wrapper-comp-setting extraSpace">
        <label class="label setting-label" for="">Error specifics</label>
        <select class="increaseInputSpace" name="stepErrorSpecificFeedbacks" id="stepErrorSpecificFeedbacks">
        </select>
        <p></p>
        <button type="button" id='editStepErrorSpecificFeedbacks'>Edit feedback</button> 
        <p></p>
      </div>
        <p></p>
      <div class="wrapper-comp-setting extraSpace">
        <label class="label setting-label" for="">Explanations</label>
        <select class="increaseInputSpace" name="stepExplanations" id="stepExplanations">
        </select>
        <p></p>
        <button type="button" id='editStepExplanations'>Edit explanation</button> 
        <p></p>
      </div>
        <p></p>
      <div class="wrapper-comp-setting extraSpace">
        <label class="label setting-label" for="">Hints</label>
        <select class="increaseInputSpace" name="stepHints" id="stepHints">
        </select>
        <p></p>
        <button type="button" id='editStepHints'>Edit hint</button> 
        <p></p>
      </div>
        <p></p>
      <div class="wrapper-comp-setting extraSpace">
        <label class="label setting-label" for="">Doubts</label>
        <select class="increaseInputSpace" name="stepDoubts" id="stepDoubts">
        </select>
        <p></p>
        <button type="button" id='editDoubtStep'>Edit doubt</button> 
        <p></p>
      </div>
    </div>

    <div class="addMenu" id="addMenu">
      <div class="wrapper-comp-setting extraSpace">
        <label class="label setting-label" for="stateName">Node text</label>
        <input class="input increaseInputSpace" name="stateName" id="stateName"  type="text" />
        <p></p>
        <label class="label setting-label" for="stateCorrectness">Correctness</label>
        <input class="input increaseInputSpace" name="stateCorrectness" id="stateCorrectness"  type="text" />
        <p></p>
        <label class="label setting-label" for="stateType">Type  </label>
        <select class="increaseInputSpace" name="addStateType" id="addStateType">
          <option selected="selected" value="normalState">Normal</option>
          <option value="initialState">Initial</option>
          <option value="finalState">Final</option>
          <option value="initialAndFinalState">Initial and final</option>
        </select>
        <p></p>
        <button type="button" id='createState'>Create node</button> 

      </div>

      <div class="wrapper-comp-setting extraSpace">
        <label class="label setting-label" for="sourceState">Source node  </label>
        <input class="input increaseInputSpace" name="sourceState" id="sourceState"  type="text" />
        <p></p>
        <label class="label setting-label" for="destState">Destiny node  </label>
        <input class="input increaseInputSpace" name="deststate" id="destState"  type="text" />
        <p></p>
        <label class="label setting-label" for="stepCorrectness">Validity  </label>
        <input class="input increaseInputSpace" name="stepCorrectness" id="stepCorrectness"  type="text" />
        <p></p>
        <p></p>
        <button type="button" id='createStep'>Create step</button> 
      </div>
    </div>

  </div>

  </ul>
  <div class="xblock-actions">
    <span class="xblock-editor-error-message"></span>
    <ul>
      <li class="action-item">
        <button type="button" id='save_button'>Save</button> 
      </li>
      <li class="action-item">
        <button type="button" id='cancel_button'>Cancel</button> 
      </li>
    </ul>
  </div>
</div>